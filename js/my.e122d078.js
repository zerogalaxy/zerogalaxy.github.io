(window.webpackJsonp=window.webpackJsonp||[]).push([["my"],{"38fc":function(t,e,a){"use strict";var r=(a("a9e3"),a("d3b7"),a("25f0"),{props:{contract:String},data:function(){return{show:!1,authorizeType:"general",amount:null,authorizeNum:null}},methods:{toggle:function(t){this.show=!this.show,t&&(this.authorizeNum=t)},authorize:function(){var e=this,t=this.authorizeNum;this.authorizeNum||(t="general"===this.authorizeType?this.$toWei((10*Number(this.amount)).toString()):this.$toWei("100000")),vant.Toast.loading({duration:0,forbidClick:!0,message:this.$t("loading")}),this.$contracts.ERC20Token.methods.approve(this.$contracts[this.contract]._address,t).send({from:this.$address}).on("transactionHash",function(t){vant.Toast.loading({duration:0,forbidClick:!0,message:e.$t("loading")})}).on("receipt",function(t){vant.Toast.clear(),e.toggle(),e.$emit("send")}).on("error",console.error)}}}),s=(a("851f"),a("2877")),r=Object(s.a)(r,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("van-overlay",{attrs:{show:e.show}},[t("div",{staticClass:"authorize",on:{click:function(t){t.stopPropagation()}}},[t("div",{staticClass:"header"},[t("img",{attrs:{src:a("e10a")}}),t("span",[e._v("合约额度授权")])]),t("div",{staticClass:"authorize-type",class:{active:"general"===e.authorizeType},on:{click:function(t){e.authorizeType="general"}}},[t("div",[t("span",[e._v("普通授权")]),t("span",[e._v("使用多少额度授权多少额度")])]),t("span",[e._v("推荐")])]),t("div",{staticClass:"authorize-type",class:{active:"super"===e.authorizeType},on:{click:function(t){e.authorizeType="super"}}},[t("div",[t("span",[e._v("超级授权")]),t("span",[e._v("提前为交易额度授权")])]),t("span",[e._v("便捷")])]),t("van-button",{attrs:{color:"linear-gradient(45deg, #21C181, #21C1A4)"},on:{click:e.authorize}},[e._v(e._s(e.$t("define")))])],1)])},[],!1,null,"4aaad90d",null);e.a=r.exports},4242:function(t,e,a){},5319:function(t,e,a){"use strict";var r=a("d784"),C=a("825a"),E=a("7b0b"),O=a("50c4"),x=a("a691"),i=a("1d80"),S=a("8aa5"),R=a("14c3"),G=Math.max,z=Math.min,j=Math.floor,T=/\$([$&'`]|\d\d?|<[^>]*>)/g,F=/\$([$&'`]|\d\d?)/g;r("replace",2,function(s,A,k,w){return[function(t,e){var a=i(this),r=null==t?void 0:t[s];return void 0!==r?r.call(t,a,e):A.call(String(a),t,e)},function(t,e){if(w.REPLACE_KEEPS_$0||"string"==typeof e&&-1===e.indexOf("$0")){var a=k(A,t,this,e);if(a.done)return a.value}var r=C(t),s=String(this),i="function"==typeof e;i||(e=String(e));var n,o=r.global;o&&(n=r.unicode,r.lastIndex=0);for(var c=[];;){var d=R(r,s);if(null===d)break;if(c.push(d),!o)break;""===String(d[0])&&(r.lastIndex=S(s,O(r.lastIndex),n))}for(var l,u="",h=0,g=0;g<c.length;g++){d=c[g];for(var p=String(d[0]),v=G(z(x(d.index),s.length),0),f=[],m=1;m<d.length;m++)f.push(void 0===(l=d[m])?l:String(l));var y,b=d.groups,b=i?(y=[p].concat(f,v,s),void 0!==b&&y.push(b),String(e.apply(void 0,y))):function(i,n,o,c,d,t){var l=o+i.length,u=c.length,e=F;return void 0!==d&&(d=E(d),e=T),A.call(t,e,function(t,e){var a;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return n.slice(0,o);case"'":return n.slice(l);case"<":a=d[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(u<r){var s=j(r/10);return 0!==s&&s<=u?void 0===c[s-1]?e.charAt(1):c[s-1]+e.charAt(1):t}a=c[r-1]}return void 0===a?"":a})}(p,s,v,f,b,e);h<=v&&(u+=s.slice(h,v)+b,h=v+p.length)}return u+s.slice(h)}]})},"5eef":function(t,e,a){"use strict";var r=a("afaa");a.n(r).a},"851f":function(t,e,a){"use strict";var r=a("4242");a.n(r).a},9911:function(t,e,a){"use strict";var r=a("23e7"),s=a("857a");r({target:"String",proto:!0,forced:a("eae9")("link")},{link:function(t){return s(this,"a","href",t)}})},afaa:function(t,e,a){},e10a:function(t,e){t.exports="data:image/png;base64,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"},eb88:function(t,e,a){"use strict";a.r(e);var r=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=(a("99af"),a("a9e3"),a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("9911"),a("ddb0"),a("67de")),i=a("38fc"),n=a("e6f4");function o(e,t){var a,r=Object.keys(e);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(e),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)),r}s=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},{name:"my",components:{selfTabbar:s.default,selfAuthorize:i.a},data:function(){return{grade:0,code:"",link:"",eye:!1}},methods:{init:function(){var e=this;this.$cache.my?(this.grade=this.$cache.my.grade,this.code=this.$cache.my.code,this.link=this.$cache.my.link):this.$cache.my={},Promise.all([this.$contracts.Manager.methods.levelOf(this.$address).call({from:this.$address}),this.$contracts.Relations.methods.AddressToShortCode(this.$address).call({from:this.$address})]).then(function(t){e.grade=Number(t[0]),e.code=0<Number(t[1])?e.$web3.utils.hexToString(t[1]):"",e.link="".concat(location.href.replace("my",""),"?code=").concat(e.code),e.$cache.my.grade=e.grade,e.$cache.my.code=e.code,e.$cache.my.link=e.link})},authorize:function(){var a=this;this.$contracts.ERC20Token.methods.allowance(this.$address,this.$contracts.Manager._address).call({from:this.$address},function(t,e){t||(5<=a.$fromWei(e)?a.upgrade():(a.$refs.authorize.amount=5,a.$refs.authorize.toggle()))})},upgrade:function(){var a=this,r=this.$contracts.Manager.methods.paymentDLevel;r.call({from:this.$address},function(t,e){t||r.send({from:a.$address}).on("transactionHash",function(t){vant.Toast.loading({duration:0,forbidClick:!0,message:a.$t("loading")})}).on("receipt",function(t){vant.Toast.clear(),a.$router.back()}).on("error",console.error)})},goBind:function(){var t=this;return vant.Dialog.alert({message:this.$t("goBind")}).then(function(){t.$router.push({path:"/?bind=1"})}),!1},onCopySuccess:function(){vant.Toast.success(this.$t("copySuccess"))},onCopyError:function(){vant.Toast.fail(this.$t("copyFail"))}},mounted:function(){n.f&&this.init()}}),a("5eef"),i=a("2877"),s=Object(i.a)(s,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"tabbar-page"},[0<e.code.length?t("div",{staticClass:"card"},[t("div",[t("span",[e._v(e._s(e.$t("inviteCode")))]),t("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onCopyError,expression:"onCopyError",arg:"error"}]},[e._v(e._s(e.code)+" "),t("img",{attrs:{src:a("608c")}})]),t("span",[e._v(e._s(e.$address.slice(0,4)+"∗∗∗∗∗∗"+e.$address.slice(-5)))])]),t("img",{attrs:{src:a("139c")("./V"+e.grade+".png")}})]):t("div",{staticClass:"card"},[t("div",[t("span",[e._v(e._s(e.$t("inviteCode")))]),t("span",{on:{click:e.goBind}},[e._v("∗∗∗∗∗∗ "),t("img",{attrs:{src:a("608c")}})]),t("span",[e._v(e._s(e.$address.slice(0,4)+"∗∗∗∗∗∗"+e.$address.slice(-5)))])]),t("img",{attrs:{src:a("68c8")},on:{click:e.goBind}})]),0<e.code.length?t("div",{staticClass:"content"},[t("div",[t("router-link",{attrs:{to:"/my"}},[t("div",[t("img",{attrs:{src:a("45b9")}}),t("span",[e._v(e._s(e.$t("message")))])]),t("img",{attrs:{src:a("e067")}})])],1),t("div",[t("router-link",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.link,expression:"link",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onCopyError,expression:"onCopyError",arg:"error"}],attrs:{to:"/my"}},[t("div",[t("img",{attrs:{src:a("33e0")}}),t("span",[e._v(e._s(e.$t("inviteLink")))])]),t("img",{attrs:{src:a("e067")}})]),t("router-link",{attrs:{to:"/invitationList"}},[t("div",[t("img",{attrs:{src:a("8a44")}}),t("span",[e._v(e._s(e.$t("inviteList")))])]),t("img",{attrs:{src:a("e067")}})]),t("router-link",{staticClass:"people",attrs:{to:"/my"}},[t("div",[t("img",{attrs:{src:a("5e57")}}),t("span",[e._v(e._s(e.$t("myInvite")))])]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.eye,expression:"!eye"}]},[e._v("∗∗∗∗∗∗")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.eye,expression:"eye"}]},[e._v(e._s(e.code))]),t("img",{directives:[{name:"show",rawName:"v-show",value:e.eye,expression:"eye"}],attrs:{src:a("caf5")},on:{click:function(t){e.eye=!1}}}),t("img",{directives:[{name:"show",rawName:"v-show",value:!e.eye,expression:"!eye"}],attrs:{src:a("b9af")},on:{click:function(t){e.eye=!0}}})])],1)]):t("div",{staticClass:"content"},[t("div",[t("router-link",{attrs:{to:"/my"},nativeOn:{click:function(t){return e.goBind(t)}}},[t("div",[t("img",{attrs:{src:a("45b9")}}),t("span",[e._v(e._s(e.$t("message")))])]),t("img",{attrs:{src:a("e067")}})])],1),t("div",[t("router-link",{attrs:{to:"/my"},nativeOn:{click:function(t){return e.goBind(t)}}},[t("div",[t("img",{attrs:{src:a("33e0")}}),t("span",[e._v(e._s(e.$t("inviteLink")))])]),t("img",{attrs:{src:a("e067")}})]),t("router-link",{attrs:{to:"/my"},nativeOn:{click:function(t){return e.goBind(t)}}},[t("div",[t("img",{attrs:{src:a("8a44")}}),t("span",[e._v(e._s(e.$t("inviteList")))])]),t("img",{attrs:{src:a("e067")}})]),t("router-link",{staticClass:"people",attrs:{to:"/my"}},[t("div",[t("img",{attrs:{src:a("5e57")}}),t("span",[e._v(e._s(e.$t("myInvite")))])]),t("span",[e._v("∗∗∗∗∗∗")]),t("img",{attrs:{src:a("b9af")},on:{click:e.goBind}})])],1)]),t("self-tabbar",{attrs:{active:"my"}}),t("self-authorize",{ref:"authorize",attrs:{contract:"Manager"},on:{send:e.upgrade}})],1)},[],!1,null,"c4674348",null);e.default=s.exports}}]);